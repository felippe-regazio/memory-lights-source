{"remainingRequest":"/var/www/html/memory-lights-source/node_modules/thread-loader/dist/cjs.js!/var/www/html/memory-lights-source/node_modules/babel-loader/lib/index.js!/var/www/html/memory-lights-source/node_modules/cache-loader/dist/cjs.js??ref--0-0!/var/www/html/memory-lights-source/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/memory-lights-source/src/components/GameLights.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/memory-lights-source/src/components/GameLights.vue","mtime":1584936248572},{"path":"/var/www/html/memory-lights-source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEdhbWVPdmVyIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lTGlnaHRzL0dhbWVPdmVyLnZ1ZSc7CmltcG9ydCBHbEhvbGRlciBmcm9tICdAL2NvbXBvbmVudHMvR2FtZUxpZ2h0cy9Ib2xkZXIudnVlJzsKaW1wb3J0IEdsQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9HYW1lTGlnaHRzL0J1dHRvbi52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0dhbWVMaWdodHMnLAogIGNvbXBvbmVudHM6IHsKICAgIEdsSG9sZGVyOiBHbEhvbGRlciwKICAgIEdsQnV0dG9uOiBHbEJ1dHRvbiwKICAgIEdhbWVPdmVyOiBHYW1lT3ZlcgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxldmVsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbDsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5sZXZlbCA9IHZhbHVlOwogICAgICB9CiAgICB9LAogICAgY3VycmVudFNlcXVlbmNlOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50U2VxdWVuY2U7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudFNlcXVlbmNlID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBzdGF0ZTogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RhdGU7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc3RhdGUgPSB2YWx1ZTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGxheTogZnVuY3Rpb24gcGxheSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzZXF1ZW5jZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgICAgIHRoaXMuc2V0U3RhdGUoJ3dhaXRpbmcnKTsKICAgICAgc2VxdWVuY2UuZm9yRWFjaChmdW5jdGlvbiAobiwgaSkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtbGlnaHQtYnV0dG9uXSIpW25dLmNsaWNrKCk7CgogICAgICAgICAgaWYgKGkgPT0gc2VxdWVuY2UubGVuZ3RoIC0gMSkgewogICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSgnbGlzdGVuaW5nJyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgODAwICogaSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxldmVsVXA6IGZ1bmN0aW9uIGxldmVsVXAoKSB7CiAgICAgIHRoaXMubGV2ZWwrKzsKICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2UgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZXZlbDsgaSsrKSB7CiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2UucHVzaCh0aGlzLnJhbmRvbU51bWJlcigwLCAzKSk7CiAgICAgIH0KCiAgICAgIHRoaXMucGxheSh0aGlzLmN1cnJlbnRTZXF1ZW5jZSk7CiAgICB9LAogICAgcmVzdGFydDogZnVuY3Rpb24gcmVzdGFydCgpIHsKICAgICAgdmFyIF93aW5kb3csIF93aW5kb3ckJGdhbWVsaWdodHNfdDsKCiAgICAgIHRoaXMuc2V0U3RhdGUoJ3dhaXRpbmcnKTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc3RhcnRlZCA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmhpdHMgPSBbXTsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubGV2ZWwgPSAwOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lbGFwc2VkVGltZSA9IDA7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRTZXF1ZW5jZSA9IFtdOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZXF1ZW5jZUxpc3RlbmVyID0gdW5kZWZpbmVkOwogICAgICAoX3dpbmRvdyA9IHdpbmRvdykgPT09IG51bGwgfHwgX3dpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF93aW5kb3ckJGdhbWVsaWdodHNfdCA9IF93aW5kb3cuJGdhbWVsaWdodHNfdGltZXIpID09PSBudWxsIHx8IF93aW5kb3ckJGdhbWVsaWdodHNfdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyQkZ2FtZWxpZ2h0c190LnJlc2V0KCk7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHdpbmRvdy4kZ2FtZWxpZ2h0cy5sZXZlbFVwKCk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgZ2FtZU92ZXI6IGZ1bmN0aW9uIGdhbWVPdmVyKCkgewogICAgICB0aGlzLnNldFN0YXRlKCdnYW1lb3ZlcicpOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zdGFydGVkID0gZmFsc2U7CiAgICB9LAogICAgcmFuZG9tTnVtYmVyOiBmdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHsKICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47CiAgICB9LAogICAgc2V0U3RhdGU6IGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnN0YXRlID0gc3RhdGU7CiAgICB9LAogICAgZ2V0U3RhdGU6IGZ1bmN0aW9uIGdldFN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RhdGU7CiAgICB9LAogICAgc2VxdWVuY2U6IGZ1bmN0aW9uIHNlcXVlbmNlKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50U2VxdWVuY2U7CiAgICB9LAogICAgc2hpZnRTZXF1ZW5jZTogZnVuY3Rpb24gc2hpZnRTZXF1ZW5jZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFNlcXVlbmNlLnNoaWZ0KCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgd2luZG93LiRnYW1lbGlnaHRzID0gdGhpczsKICB9Cn07"},{"version":3,"sources":["GameLights.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"`game-lights ${state}`\">\n      <gl-holder>\n        <gl-button :shortkey=\"'E'\" :color=\"'#FF0000'\" :sound=\"'1.mp3'\"/>\n        <gl-button :shortkey=\"'I'\" :color=\"'#008000'\" :sound=\"'2.mp3'\"/>\n        <gl-button :shortkey=\"'F'\" :color=\"'#0000FF'\" :sound=\"'3.mp3'\"/>\n        <gl-button :shortkey=\"'J'\" :color=\"'#008B8B'\" :sound=\"'4.mp3'\"/>\n      </gl-holder>\n      <game-over v-if=\"state == 'gameover'\"/>\n  </div>\n</template>\n\n<script>\n\nimport GameOver from '@/components/GameLights/GameOver.vue'\nimport GlHolder from '@/components/GameLights/Holder.vue'\nimport GlButton from '@/components/GameLights/Button.vue'\n\nexport default {\n  name: 'GameLights',\n  components: {\n    GlHolder,\n    GlButton,\n    GameOver\n  },\n  computed: {\n    level: {\n      get () {\n        return this.$store.state.level\n      },\n      set (value) {\n        this.$store.state.level = value\n      }\n    },    \n    currentSequence: {\n      get () {\n        return this.$store.state.currentSequence\n      },\n      set (value) {\n        this.$store.state.currentSequence = value\n      }\n    },\n    state: {\n      get () {\n        return this.$store.state.state\n      },\n      set (value) {\n        this.$store.state.state = value\n      }\n    }    \n  },\n  methods: {\n    play (sequence = []) {\n      this.setState('waiting');\n      sequence.forEach((n, i) => {\n        setTimeout(() => {\n          document.querySelectorAll(`[data-light-button]`)[n].click();\n          if (i == sequence.length - 1) {\n            this.setState('listening');\n          } \n        }, 800 * i);\n      });\n    },\n    levelUp () {\n      this.level++;\n      this.currentSequence = [];\n      for (let i=0; i<this.level; i++) {\n        this.currentSequence.push(this.randomNumber(0,3));\n      }\n      this.play(this.currentSequence);\n    },\n    restart () {\n      this.setState('waiting');\n      this.$store.state.started = true;\n      this.$store.state.hits = [];\n      this.$store.state.level = 0;\n      this.$store.state.elapsedTime = 0;\n      this.$store.state.currentSequence = [];\n      this.$store.state.sequenceListener = undefined;  \n      window?.$gamelights_timer?.reset();     \n      setTimeout(() => {\n          window.$gamelights.levelUp();\n      }, 500);      \n    },    \n    gameOver () {\n      this.setState('gameover');\n      this.$store.state.started = false;\n    },\n    randomNumber (min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    },\n    setState (state) {\n      this.$store.state.state = state;\n    },\n    getState () {\n      return this.$store.state.state;\n    },\n    sequence () {\n      return this.currentSequence;\n    },\n    shiftSequence () {\n      return this.currentSequence.shift();\n    }\n  },\n  mounted () {\n    window.$gamelights = this;\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .game-lights {\n    position: relative;\n    margin-bottom: 40px;\n    &.waiting {\n      pointer-events: none;\n    }\n  }\n</style>\n"],"sourceRoot":"src/components"}]}