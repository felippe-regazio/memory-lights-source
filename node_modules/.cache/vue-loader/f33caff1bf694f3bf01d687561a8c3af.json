{"remainingRequest":"/var/www/html/memory-lights-source/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/memory-lights-source/src/components/GameLights/Button.vue?vue&type=style&index=0&id=274f546b&scoped=true&lang=scss&","dependencies":[{"path":"/var/www/html/memory-lights-source/src/components/GameLights/Button.vue","mtime":1584935874768},{"path":"/var/www/html/memory-lights-source/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/memory-lights-source/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5nYW1lLWxpZ2h0cy1idXR0b24gewogIG91dGxpbmU6IG5vbmU7CiAgdXNlci1zZWxlY3Rpb246IG5vbmU7CiAgYW5pbWF0aW9uOiBlZmZlY3RfZHlsYW4gODAwbXM7CiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsgICAgCiAgYnV0dG9uIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgd2lkdGg6IDU2cHg7CiAgICBoZWlnaHQ6IDU2cHg7CiAgICBib3JkZXItcmFkaXVzOiAxMDAlOwogICAgb3V0bGluZTogbm9uZTsKICAgIG92ZXJmbG93OiB2aXNpYmxlOwogICAgdHJhbnNpdGlvbjogYWxsIDEwMG1zIGVhc2UtaW47CiAgICBjb2xvcjogI2ZmZmZmZjsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICBvcGFjaXR5OiAuNTsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGJvcmRlcjogZG90dGVkIDFweCB0cmFuc3BhcmVudDsKICAgIGJveC1zaGFkb3c6IDAgMTBweCAyMHB4IHJnYmEoMCwwLDAsMC4xOSksIDAgNnB4IDZweCByZ2JhKDAsMCwwLDAuMjMpOwogICAgc3BhbiB7CiAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgb3BhY2l0eTogLjg7CiAgICB9CiAgICAmOmJlZm9yZSB7CiAgICAgIGNvbnRlbnQ6ICcnOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Q29sb3I7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgdG9wOiAwOwogICAgICByaWdodDogMDsKICAgICAgYm90dG9tOiAwOwogICAgICBsZWZ0OiAwOwogICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuMDAxLCAwLjAwMSk7CiAgICB9CiAgICAmLmNsaWNrIHsKICAgICAgb3BhY2l0eTogMTsKICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgICAmOmJlZm9yZSB7CiAgICAgICAgb3V0bGluZTogbm9uZTsKICAgICAgICB1c2VyLXNlbGVjdGlvbjogbm9uZTsKICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsgICAgICAgIAogICAgICAgIGFuaW1hdGlvbjogZWZmZWN0X2R5bGFuIDgwMG1zOwogICAgICB9CiAgICB9ICAgICAgCiAgfQogIEBrZXlmcmFtZXMgZWZmZWN0X2R5bGFuIHsKICAgIDUwJSB7CiAgICAgIHdpbGwtY2hhbmdlOiBzY2FsZTsKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgzLCAzKTsKICAgICAgb3BhY2l0eTogMDsKICAgIH0KICAgIDk5JSB7CiAgICAgIHdpbGwtY2hhbmdlOiBzY2FsZTsKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjAwMSwgMC4wMDEpOwogICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgMTAwJSB7CiAgICAgIHdpbGwtY2hhbmdlOiBzY2FsZTsKICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjAwMSwgMC4wMDEpOwogICAgICBvcGFjaXR5OiAxOwogICAgfQogIH0gIAp9IAo="},{"version":3,"sources":["Button.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Button.vue","sourceRoot":"src/components/GameLights","sourcesContent":["<template>\n  <div class=\"game-lights-button\">\n    <button ref=\"btn\" :style=\"`background-color:${color}`\" @click='click($event)' :data-light-button=\"shortkey\">\n        {{shortkey}}\n    </button>  \n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'LightsButton',\n  props: {   \n    shortkey: {\n      type: String,\n      required: true\n    },\n    color: {\n      type: String,\n      required: true\n    },\n    sound: {\n      type: String,\n      required: true\n    }\n  }, \n  methods: {\n    click ($event) {\n      const turn = this.$store.state.state;\n      if (turn != 'listening' && (!$event || $event.isTrusted)) {\n        // if user triggered an action when is not its turn\n        // the action will be ignored. \n        return;\n      }\n      const $btn = this.$refs.btn;\n      const key = $btn?.dataset?.lightButton.toLowerCase();\n      $btn.classList.add('click');\n      setTimeout(() => { $btn.classList.remove('click'); }, 200);\n      this.playSound(require(`@/assets/sounds/${this.sound}`));\n      this.checkSequence(key);\n    },\n    checkSequence (key) {\n      if (window.$gamelights.getState() === 'listening') {\n        this.$store.state.hits.push(key);\n        const keymap = {\"e\": 0, \"i\": 1, \"f\": 2, \"j\": 3};\n        const keyindex = keymap[key.toLowerCase()];\n        const expected = window.$gamelights.shiftSequence();\n        if (expected == keyindex) {\n          if (!window.$gamelights.sequence().length) {\n            setTimeout(() => {\n              if (this.$store.state.state == \"gameover\") return;\n              window.$gamelights.setState('waiting');\n              window.$gamelights.levelUp();\n            }, 1000);\n          }\n        } else {\n          window.$gamelights.gameOver();\n        }\n      }\n    },\n    playSound (sound) {\n      const audio = new Audio(sound);\n      audio.play();\n    }    \n  },\n  mounted () {\n    document.addEventListener('keypress', e => {\n      const shortkey = this.shortkey.toLowerCase();\n      if (e.key.toLowerCase() == shortkey || e.code.toLowerCase() == `key${shortkey}`) {\n        this.click();\n      }\n    });\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n  .game-lights-button {\n    outline: none;\n    user-selection: none;\n    animation: effect_dylan 800ms;\n    -webkit-tap-highlight-color: transparent;    \n    button {\n      position: relative;\n      display: inline-block;\n      cursor: pointer;\n      margin: 0 auto;\n      width: 56px;\n      height: 56px;\n      border-radius: 100%;\n      outline: none;\n      overflow: visible;\n      transition: all 100ms ease-in;\n      color: #ffffff;\n      font-weight: 700;\n      opacity: .5;\n      cursor: pointer;\n      border: dotted 1px transparent;\n      box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n      span {\n        font-size: 18px;\n        opacity: .8;\n      }\n      &:before {\n        content: '';\n        background-color: currentColor;\n        border-radius: 50%;\n        display: block;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        transform: scale(0.001, 0.001);\n      }\n      &.click {\n        opacity: 1;\n        pointer-events: none;\n        user-select: none;\n        &:before {\n          outline: none;\n          user-selection: none;\n          pointer-events: none;        \n          animation: effect_dylan 800ms;\n        }\n      }      \n    }\n    @keyframes effect_dylan {\n      50% {\n        will-change: scale;\n        transform: scale(3, 3);\n        opacity: 0;\n      }\n      99% {\n        will-change: scale;\n        transform: scale(0.001, 0.001);\n        opacity: 0;\n      }\n      100% {\n        will-change: scale;\n        transform: scale(0.001, 0.001);\n        opacity: 1;\n      }\n    }  \n  } \n</style>\n"]}]}